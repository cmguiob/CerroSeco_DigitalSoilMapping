---
title: "TCI - Cerro Seco / Suelos"
subtitle: "Covariables"
author: "Carlos Guio"
date: "`r Sys.Date()`"
knit: (function(inputFile, encoding) { 
      out_dir <- 'Reportes';
      rmarkdown::render(input = inputFile,
                        encoding = encoding, 
                        output_file = file.path(
                                        here::here(), 
                                        out_dir, 
                                        '05_TCI_CS_Modelos_ML.html'))
                                        })
output:
  html_document:
    theme: journal
    highlight: tango
    keep_md: true
---

```{r setup, message=FALSE, warning=FALSE}

library(tidyverse)
library(rgdal) #leer polÃ­gono
library(sf) #manipular objetos espaciales tipo sf
library(raster) #manipular objetos raster

knitr::opts_chunk$set(include = FALSE, echo = FALSE, warning = FALSE, message = FALSE, fig.align="center", fig.showtext = TRUE, fig.retina = 1, dpi = 300, out.width = "70%")

showtext_auto()

```


```{r read_data}

#read compressed raster topographic indices directly into r

#create temporary file and directory
temp <- tempfile() 
tempd <- tempdir()

#Download
url <- "https://github.com/cmguiob/TERRAE_CerroSeco_DSM/blob/main/Datos_GIS/DEM_derivados/Indices_terreno_SAGA.zip?raw=true"
download.file(url,temp, mode="wb") #mode necessary for windows

#Unzip
unzip(temp, exdir=tempd)

#Prepare for reading as stack
files_names <- list.files(tempd, pattern = "*.tif")
files_list <- paste(file.path(tempd), files_names[], sep = "\\")
topoind <- stack(files_list)

#Disconnect from temporary file and directory
unlink(tempd)
unlink(temp)

```



